<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<record
			id="view_stock_picking_export"
			model="ir.ui.view">
			<field name="name">Picking List</field>
			<field name="model">report.file.exporter</field>
			<field
				name="arch"
				type="xml">
				<form
					string="Export stock picking list"
					version="7.0">
					<field name="message" readonly="1"/>
					<field
						name="file"
						filename="file_name"
						readonly='1' />
                    <field name="file_ext" attrs="{'invisible': [('ready', '=', True)]}"/>
					<br />
					<button
						name="export_report"
						string="Create report file"
						type="object"
						class="oe_highlight"
						attrs="{'invisible': [('ready', '=', True)]}"
						context="{'var_format':'csv', 'var_fields':('id', 'partner_id/name', 'partner_id/company', 'partner_id/zip', 'partner_id/city', 'date', 'date_done', 'state', 'move_lines/name', 'move_lines/product_qty', 'move_lines/sale_line_id/price_unit', 'move_lines/sale_line_id/price_subtotal') }" />

					<button
						string="Close"
						special="cancel" />
					<field
						name="file_name"
						invisible="1" />
					<field
						name="ready"
						invisible="1" />
				</form>
			</field>
		</record>

		<record
			id="action_view_stock_picking_export"
			model="ir.actions.act_window">
			<field name="name">Export Picking List</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">report.file.exporter</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="view_stock_picking_export" />
			<field name="target">new</field>
		</record>

		<record
			model="ir.values"
			id="stock_picking_out_export">
			<field name="model_id" ref="stock.model_stock_picking_out" />
			<field name="name">Export Delivery Orders</field>
			<field name="key2">client_action_multi</field>
			<field name="value" eval="'ir.actions.act_window,' + str(ref('action_view_stock_picking_export'))" />
			<field name="key">action</field>
			<field name="model">stock.picking.out</field>
		</record>
		
		<record
			model="ir.values"
			id="stock_picking_in_export">
			<field name="model_id" ref="stock.model_stock_picking_in" />
			<field name="name">Export Incoming Shipments</field>
			<field name="key2">client_action_multi</field>
			<field name="value" eval="'ir.actions.act_window,' + str(ref('action_view_stock_picking_export'))" />
			<field name="key">action</field>
			<field name="model">stock.picking.in</field>
		</record>
		
		<record
			model="ir.values"
			id="stock_picking_export">
			<field name="model_id" ref="stock.model_stock_picking" />
			<field name="name">Export Internal Moves</field>
			<field name="key2">client_action_multi</field>
			<field name="value" eval="'ir.actions.act_window,' + str(ref('action_view_stock_picking_export'))" />
			<field name="key">action</field>
			<field name="model">stock.picking</field>
		</record>
	</data>
</openerp>
