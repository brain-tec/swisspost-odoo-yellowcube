<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

        <record id="view_picking_out_tree_ext" model="ir.ui.view">
            <field name="name">view_picking_out_tree_ext</field>
            <field name="model">stock.picking.out</field>
            <field name="inherit_id" ref="stock.view_picking_out_tree" />
            <field name="arch" type="xml">
                <field name="state" position="before">
                    <field name="carrier_id" />
                </field>
            </field>
        </record>

        <record id="view_picking_out_search_ext" model="ir.ui.view">
            <field name="name">stock.picking.out.search.inherit</field>
            <field name="model">stock.picking.out</field>
            <field name="inherit_id" ref="stock.view_picking_out_search"/>
            <field name="arch" type="xml">
                <xpath expr="//group[descendant-or-self::filter[@string='Journal']]" position="inside">
                    <filter string="Carrier" name="group_by_carrier_id"
                            context="{'group_by':'carrier_id'}"/>
                </xpath>
            </field>
        </record>

        <record
            id="stock_picking_out_search_ext_view"
            model="ir.ui.view">
            <field name="name">stock_picking_out_search_ext_view</field>
            <field name="model">stock.picking.out</field>
            <field
                name="inherit_id"
                ref="stock.view_picking_out_search" />
            <field
                name="arch"
                type="xml">
                <data>
                    <field
                        name="company_id"
                        position="after">

                        <filter
                            string="Today"
                            domain="[
                                    ('date','=',context_today().strftime('%%Y-%%m-%%d')),
                                    ]"
                            help="Today"
                            icon="terp-personal"
                            name="today" />

                        <filter 
                            string="This Week"
                            domain="['&amp;',
                                    ('date','&gt;=','this_mon'),
                                    ('date','&lt;=','this_sun')
                                    ]"
                            help="This week"
                            icon="terp-go-week"
                            name="this_week"
                            context="{'this_week': True}" />

                        <filter
                            string="This Month"
                            domain="['&amp;',
                                    ('date','&gt;=',(context_today()+relativedelta(months=0)).strftime('%%Y-%%m-01')),
                                    ('date','&lt;',(context_today()+relativedelta(months=1)).strftime('%%Y-%%m-01')),
                                    ]"
                            help="This month"
                            icon="terp-personal"
                            name="this_month" />

                        <filter 
                            string="This Quarter"
                            domain="['&amp;',
                                    ('date','&gt;=','start_of_this_quarter'),
                                    ('date','&lt;=','end_of_this_quarter')
                                    ]"
                            help="This quarter"
                            icon="terp-go-quarter"
                            name="this_quarter"
                            context="{'this_quarter': True}" />

                        <filter
                            string="This Year"
                            domain="['&amp;',
                                    ('date','&gt;=',(context_today()+relativedelta(year=0)).strftime('%%Y-01-01')),
                                    ('date','&lt;=',(context_today()+relativedelta(year=0)).strftime('%%Y-12-31')),
                                    ]"
                            help="This year"
                            icon="terp-personal"
                            name="this_year" />
                    </field>
                </data>
            </field>
        </record>
    </data>
</openerp>
